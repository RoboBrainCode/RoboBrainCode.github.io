"use strict";angular.module("roboBrainApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","infinite-scroll","config","angularFileUpload"]).config(["$routeProvider","$locationProvider","$sceProvider",function(a,b,c){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/search",{templateUrl:"views/search.html",controller:"SearchCtrl"}).when("/graph",{templateUrl:"views/weaverGraph.html",controller:"GraphCtrl"}).when("/query",{templateUrl:"views/main.html",controller:"QueryCtrl"}).when("/search",{templateUrl:"views/search.html",controller:"SearchCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/research",{templateUrl:"views/research.html",controller:"ResearchCtrl"}).when("/api",{templateUrl:"views/api.html",controller:"APICtrl"}).when("/application",{templateUrl:"views/application.html",controller:"RaquelCtrl"}).when("/raquel",{templateUrl:"views/raquel.html",controller:"RaquelCtrl"}).when("/people",{templateUrl:"views/people.html",controller:"PeopleCtrl"}).when("/contact",{templateUrl:"views/contact.html",controller:"ContactCtrl"}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl"}).when("/createuser",{templateUrl:"views/createuser.html",controller:"LoginCtrl"}).when("/raquel",{templateUrl:"views/raquel.html",controller:"RaquelCtrl"}).when("/planit",{templateUrl:"views/planit.html",controller:"PlanItCtrl"}).when("/getFeedback",{templateUrl:"views/getFeedback.html",controller:"getFeedbackCtrl"}).when("/planitDave",{templateUrl:"views/planitDave.html",controller:"PlanItDaveCtrl"}).when("/localFeedback",{templateUrl:"views/localfeedback.html",controller:"localFeedbackCtrl"}).otherwise({redirectTo:"/"}),c.enabled(!1)}]),angular.module("roboBrainApp").config(["$httpProvider",function(a){a.defaults.withCredentials=!0,a.defaults.xsrfCookieName="csrftoken",a.defaults.xsrfHeaderName="X-CSRFToken"}]).factory("brainFeeds",["$resource","$interval","$cookieStore","$cookies","$http","$q","ENV",function(a,b,c,d,e,f,g){var h={},i=10,j=0,k=!0,l=!1,m=[],n=g.apiEndpoint+"feed/upvotes/";return{init:function(){return h={},j=0,l=!1,m=[]},moreRecent:function(){var a=g.apiEndpoint+"feed/infinite_scroll/";if(k){k=!1;var b=d.csrftoken;b||e.get(n),e.get(a,{params:{k:i,cur:j}}).then(function(a){for(var b=a.data,d=0;d<b.length;++d){var e=b[d]._id;h[e]=b[d],h[e].order=j,m[j]=h[e],j+=1,1==c.get(e)?h[e].upvoted=!0:-1==c.get(e)&&(h[e].downvoted=!0),h[e].text=h[e].text.split(" ");for(var f=0;f<h[e].media.length;++f)if(h[e].media[f].match(/\.(gif|jpg|jpeg|tiff|png)$/i)){var i=h[e].media[f].lastIndexOf(".");h[e].media[f]={type:"image",url:g.staticEndpoint+h[e].media[f].slice(0,i)+"_thumb"+h[e].media[f].slice(i)}}else h[e].media[f].match(/\.(htm|html)$/i)?h[e].media[f]={type:"html",url:g.staticEndpoint+h[e].media[f]}:h[e].media[f].match(/\.(mp4)$/i)?h[e].media[f]={type:"mp4",url:g.staticEndpoint+h[e].media[f]}:h[e].media[f].match(/\.(webm)$/i)&&(h[e].media[f]={type:"webm",url:g.staticEndpoint+h[e].media[f]})}k=!0})}},vote:function(a,b){var i=g.apiEndpoint+"feed/upvotes/",j=!1;if(!l){if(c.get(a)){if(c.get(a)==b)return;j=!0}l=!0,f.when(function(){var a=d.csrftoken;return a?"Ok":e.get(i)}()).then(function(){return e.defaults.headers.post["X-CSRFToken"]=d.csrftoken,e.post(i,{feedid:a,vote:b,change:j})}).then(function(d){d=d.data,c.put(a,b),1==b?(h[a].upvoted=!0,h[a].downvoted=!1):-1==b&&(h[a].upvoted=!1,h[a].downvoted=!0),h[a].upvotes=d.upvotes,h[a].downvotes=d.downvotes,l=!1})}},loadComments:function(a,b){if(0==$("#iframe-comment-"+a).length){var c=document.createElement("iframe");c.src="static/comments.html?id="+encodeURIComponent(b),c.className="feed-iframe-comments",c.frameBorder=0,c.id="iframe-comment-"+a,$("#"+a).append(c)}else{var d=$("#iframe-comment-"+a),e=d.css("display");"block"==e?d.css("display","none"):"none"==e&&d.css("display","block")}},query:function(a){var b="";if(a.hashword)b=g.apiEndpoint+"feed/filter/";else{if(!a.type)return;b=g.apiEndpoint+"feed/filter_type/"}a.k=i;var f=d.csrftoken;f||e.get(n),e.get(b,{params:a}).then(function(a){for(var b=a.data,d=0;d<b.length;++d){var e=b[d]._id;h[e]=b[d],h[e].order=d,1==c.get(e)?h[e].upvoted=!0:-1==c.get(e)&&(h[e].downvoted=!0),h[e].text=h[e].text.split(" ");for(var f=0;f<h[e].media.length;++f)if(h[e].media[f].match(/\.(gif|jpg|jpeg|tiff|png)$/i)){var i=h[e].media[f].lastIndexOf(".");h[e].media[f]={type:"image",url:g.staticEndpoint+h[e].media[f].slice(0,i)+"_thumb"+h[e].media[f].slice(i)}}else h[e].media[f].match(/\.(htm|html)$/i)?h[e].media[f]={type:"html",url:g.staticEndpoint+h[e].media[f]}:h[e].media[f].match(/\.(mp4)$/i)?h[e].media[f]={type:"mp4",url:g.staticEndpoint+h[e].media[f]}:h[e].media[f].match(/\.(webm)$/i)&&(h[e].media[f]={type:"webm",url:g.staticEndpoint+h[e].media[f]});m[j]=h[e],j+=1}})}}}]),angular.module("roboBrainApp").controller("MainCtrl",["$scope","brainFeeds",function(a,b){b.init(),a.feeds=b.init(),a.moreRecent=b.moreRecent,a.vote=b.vote,a.loadComments=b.loadComments}]),angular.module("roboBrainApp").controller("QueryCtrl",["$scope","$routeParams","brainFeeds",function(a,b,c){a.feeds=c.init(),c.query(b),a.vote=c.vote}]),angular.module("roboBrainApp").controller("SearchCtrl",["$scope","$http",function(a,b){var c="http://graph.robobrain.me:3000/graph_query/nlquery/";a.hasSearched=!1,a.hasAnswered=!1,a.hasError=!1,a.searchGraph=function(){a.hasAnswered=!1,a.hasError=!1,a.hasSearched=!0;var d=a.inputText;a.inputText="",a.originalText=d,b.get(c,{params:{user_in:d}}).success(function(b){a.outputText=b[0].user_out,a.hasSearched=!1,a.hasAnswered=!0}).error(function(){a.hasSearched=!1,a.hasError=!0})}}]),angular.module("roboBrainApp").controller("AboutCtrl",["$scope",function(a){a.news=[{name:"New York Times",logo:"images/news/nyt.jpg",url:"http://www.nytimes.com/2014/09/02/science/robot-touch.html"},{name:"TechCrunch",logo:"images/news/tc.jpg",url:"http://techcrunch.com/2014/08/25/the-robo-brain-will-use-the-internet-to-teach-robots/"},{name:"Yahoo",logo:"images/news/yahoo.jpg",url:"https://www.yahoo.com/tech/cornell-scientists-create-robo-brain-to-teach-robots-95740298304.html"},{name:"ABC",logo:"images/news/abc.jpg",url:"http://abcnews.go.com/Technology/robots-learn-teach/story?id=25196591"},{name:"Kurzweil",logo:"images/news/kurzweil.jpg",url:"http://www.kurzweilai.net/robo-brain-will-teach-robots-everything-from-the-internet"},{name:"Wired",logo:"images/news/wired.jpg",url:"http://www.wired.com/2014/08/robobrain/"},{name:"CNet",logo:"images/news/cnet.jpg",url:"http://www.cnet.com/news/robo-brain-is-learning-from-the-internet/"},{name:"CBS",logo:"images/news/cbs.jpg",url:"http://www.cbsnews.com/news/robo-brain-to-teach-robots-about-the-human-world/"},{name:"Washington Post",logo:"images/news/wpost.jpg",url:"http://www.washingtonpost.com/news/speaking-of-science/wp/2014/08/25/this-robot-is-using-youtube-videos-to-learn-all-about-us/"},{name:"BBC",logo:"images/news/bbc.jpg",url:"http://www.bbc.com/news/technology-28936436"},{name:"Sky",logo:"images/news/sky.jpg",url:"http://news.sky.com/story/1325005/robo-brain-lets-robots-learn-from-the-internet"},{name:"Daily Mail",logo:"images/news/dmail.jpg",url:"http://www.dailymail.co.uk/sciencetech/article-2734123/The-robot-brain-rule-Plans-giant-central-brain-power-millions-machines-world-revealed.html"},{name:"Popular Science",logo:"images/news/psci.jpg",url:"http://www.popsci.com/blog-network/zero-moment/robo-brain-project-wants-turn-internet-robotic-hivemind"},{name:"VOA",logo:"images/news/voa.jpg",url:"http://blogs.voanews.com/science-world/2014/08/25/12571/"}],a.sponsors_gov=[{name:"National Science Foundation",logo:"images/sponsors/nsf.jpg",url:"http://www.nsf.gov/"},{name:"Office of Naval Research",logo:"images/sponsors/onr.jpg",url:"http://www.onr.navy.mil/"},{name:"Army Research Office",logo:"images/sponsors/aro.jpg",url:"http://www.arl.army.mil/"},{name:"National Robotics Initiative",logo:"images/sponsors/nri.jpg",url:"http://www.nsf.gov/funding/pgm_summ.jsp?pims_id=503641&org=CISE"}],a.sponsors_tech=[{name:"Google",logo:"images/sponsors/goog.jpg",url:"http://www.google.com/"},{name:"Microsoft",logo:"images/sponsors/msft.jpg",url:"http://www.microsoft.com/"},{name:"Qualcomm",logo:"images/sponsors/qcom.jpg",url:"http://www.qualcomm.com/"}],a.sponsors_school=[{name:"Cornell University",logo:"images/sponsors/cornell.jpg",url:"http://www.cornell.edu/"},{name:"Stanford University",logo:"images/sponsors/stanford.jpg",url:"http://www.stanford.edu/"},{name:"UC Berkeley",logo:"images/sponsors/berkeley.jpg",url:"http://www.berkeley.edu/"},{name:"Brown University",logo:"images/sponsors/brown.jpg",url:"http://www.brown.edu/"}],a.sponsors_misc=[{name:"Alfred P. Sloan Foundation",logo:"images/sponsors/apsf.jpg",url:"http://www.sloan.org/"}],a.publications=[{title:"Robo Brain: Large-Scale Knowledge Engine for Robots",authors:"Ashutosh Saxena, Ashesh Jain, Ozan Sener, Aditya Jami, Dipendra K Misra and Hema S Koppula",collection:"Tech Report arxiv",year:"2014",url:"http://arxiv.org/abs/1412.0691"},{title:"Deep Learning for Detecting Robotic Grasps",authors:"Ian Lenz, Honglak Lee, Ashutosh Saxena",collection:"International Journal on Robotics Research (IJRR)",year:"2014",url:"http://pr.cs.cornell.edu/deepgrasping/",misc:"An earlier version was presented in Robotics Science and Systems (RSS), 2013."},{title:"Tell Me Dave: Context-Sensitive Grounding of Natural Language to Mobile Manipulation Instructions",authors:"Dipendra K. Misra, Jaeyong Sung, Kevin Lee, Ashutosh Saxena",collection:"Robotics: Science and Systems (RSS)",year:"2014",url:"http://tellmedave.cs.cornell.edu/paper.pdf"},{title:"Hierarchical Semantic Labeling for Task-Relevant RGB-D Perception",authors:"Chenxia Wu, Ian Lenz, Ashutosh Saxena",collection:"Robotics: Science and Systems (RSS)",year:"2014",url:"http://www.cs.cornell.edu/~asaxena/papers/wulenzsaxena_hierarchicallabel-rgbd_rss2014.pdf"},{title:"Modeling High-Dimensional Humans for Activity Anticipation using Gaussian Process Latent CRFs",authors:"Yun Jiang, Ashutosh Saxena",collection:"Robotics: Science and Systems (RSS)",year:"2014",url:"http://www.cs.cornell.edu/~asaxena/papers/jiang_saxena_rss14_gplcrf.pdf"},{title:"Physically-Grounded Spatio-Temporal Object Affordances",authors:"Hema S. Koppula, Ashutosh Saxena",collection:"European Conference on Computer Vision (ECCV)",year:"2014",url:"http://www.cs.cornell.edu/~asaxena/papers/koppula-saxena-eccv14-physicallygroundedaffordances.pdf"},{title:"Anticipatory Planning for Human-Robot Teams",authors:"Hema S. Koppula, Ashesh Jain, Ashutosh Saxena",collection:"14th International Symposium on Experimental Robotics (ISER)",year:"2014",url:"http://www.cs.cornell.edu/~asaxena/papers/koppula_jain_saxena_iser14_anticipatoryplanning.pdf"},{title:"3D Reasoning from Blocks to Stability",authors:"Zhaoyin Jia, Andy Gallagher, Ashutosh Saxena, Tsuhan Chen",collection:"IEEE Transactions on Pattern Analysis and Machine Intelligence (PAMI)",year:"2014",url:"http://www.cs.cornell.edu/~asaxena/papers/3d_based_reasoning_saxena_pami14.pdf",misc:"Original version appeared as an oral in CVPR 2013."},{title:"Learning Trajectory Preferences for Manipulators via Iterative Improvement",authors:"Ashesh Jain, Brian Wojcik, Thorsten Joachims, Ashutosh Saxena",collection:"Neural Information Processing Systems (NIPS)",year:"2013",url:"http://www.cs.cornell.edu/~asaxena/papers/jain_saxena_trajectorypreferencelearning_nips13.pdf",misc:"An earlier version of this work was presented at the ICML workshop on Robot Learning, June 2013."},{title:"Anticipating Human Activities using Object Affordances for Reactive Robotic Response",authors:"Hema S. Koppula, Ashutosh Saxena",collection:"Robotics: Science and Systems (RSS)",year:"2013",url:"http://www.cs.cornell.edu/~asaxena/papers/anticipation_RSS_2013.pdf",awards:"Best Student Paper Award, Best Paper Runner-Up"},{title:"Infinite Latent Conditional Random Fields for Modeling Environments through Humans",authors:"Yun Jiang, Ashutosh Saxena",collection:"Robotics: Science and Systems (RSS)",year:"2013",url:"http://www.cs.cornell.edu/~asaxena/papers/jiang_saxena_rss13_ILCRF.pdf"},{title:"Learning Object Arrangements in 3D Scenes using Human Context",authors:"Yun Jiang, Marcus Lim, Ashutosh Saxena",collection:"International Conference of Machine Learning (ICML)",year:"2012",url:"http://www.cs.cornell.edu/~asaxena/papers/jiang_saxena_rss13_ILCRF.pdf"},{title:"Contextual Guided Semantic Labeling and Search for 3D Point Clouds",authors:"Abhishek Anand, Hema S. Koppula, Thorsten Joachims, Ashutosh Saxena",collection:"International Journal of Robotics Research (IJRR)",year:"2012",url:"http://www.cs.cornell.edu/~asaxena/papers/contextuallabeling3d_saxena_ijrr12.pdf",misc:"Original version in NIPS 2011."},{title:"Learning to Open New Doors",authors:"Ellen Klingbeil, Ashutosh Saxena, Andrew Y. Ng",collection:"International Conference on Intelligent Robots and Systems (IROS)",year:"2010",url:"http://www.cs.cornell.edu/~asaxena/openingnewdoors/klingbeil-saxena-ng-opennewdoors.pdf",misc:"First published in Robotics Science and Systems (RSS) workshop on Robot Manipulation, 2008."},{title:"Robotic Grasping of Novel Objects using Vision",authors:"Ashutosh Saxena, Justin Driemeyer, Andrew Y. Ng",collection:"International Journal of Robotics Research (IJRR)",year:"vol. 27, no. 2, pp. 157-173, Feb. 2008",url:"http://pr.cs.cornell.edu/grasping/IJRR_saxena_etal_roboticgraspingofnovelobjects.pdf",misc:"Original version appeared in Neural Information Processing Systems (NIPS), 2006."}]}]),angular.module("roboBrainApp").controller("ResearchCtrl",["$scope",function(a){a.news=[{name:"New York Times",logo:"images/news/nyt.jpg",url:"http://www.nytimes.com/2014/09/02/science/robot-touch.html"},{name:"TechCrunch",logo:"images/news/tc.jpg",url:"http://techcrunch.com/2014/08/25/the-robo-brain-will-use-the-internet-to-teach-robots/"},{name:"Yahoo",logo:"images/news/yahoo.jpg",url:"https://www.yahoo.com/tech/cornell-scientists-create-robo-brain-to-teach-robots-95740298304.html"},{name:"ABC",logo:"images/news/abc.jpg",url:"http://abcnews.go.com/Technology/robots-learn-teach/story?id=25196591"},{name:"Kurzweil",logo:"images/news/kurzweil.jpg",url:"http://www.kurzweilai.net/robo-brain-will-teach-robots-everything-from-the-internet"},{name:"Wired",logo:"images/news/wired.jpg",url:"http://www.wired.com/2014/08/robobrain/"},{name:"CNet",logo:"images/news/cnet.jpg",url:"http://www.cnet.com/news/robo-brain-is-learning-from-the-internet/"},{name:"CBS",logo:"images/news/cbs.jpg",url:"http://www.cbsnews.com/news/robo-brain-to-teach-robots-about-the-human-world/"},{name:"Washington Post",logo:"images/news/wpost.jpg",url:"http://www.washingtonpost.com/news/speaking-of-science/wp/2014/08/25/this-robot-is-using-youtube-videos-to-learn-all-about-us/"},{name:"BBC",logo:"images/news/bbc.jpg",url:"http://www.bbc.com/news/technology-28936436"},{name:"Sky",logo:"images/news/sky.jpg",url:"http://news.sky.com/story/1325005/robo-brain-lets-robots-learn-from-the-internet"},{name:"Daily Mail",logo:"images/news/dmail.jpg",url:"http://www.dailymail.co.uk/sciencetech/article-2734123/The-robot-brain-rule-Plans-giant-central-brain-power-millions-machines-world-revealed.html"},{name:"Popular Science",logo:"images/news/psci.jpg",url:"http://www.popsci.com/blog-network/zero-moment/robo-brain-project-wants-turn-internet-robotic-hivemind"},{name:"VOA",logo:"images/news/voa.jpg",url:"http://blogs.voanews.com/science-world/2014/08/25/12571/"}],a.sponsors_gov=[{name:"National Science Foundation",logo:"images/sponsors/nsf.jpg",url:"http://www.nsf.gov/"},{name:"Office of Naval Research",logo:"images/sponsors/onr.jpg",url:"http://www.onr.navy.mil/"},{name:"Army Research Office",logo:"images/sponsors/aro.jpg",url:"http://www.nsf.gov/"},{name:"National Robotics Initiative",logo:"images/sponsors/nri.jpg",url:"http://www.nsf.gov/funding/pgm_summ.jsp?pims_id=503641&org=CISE"}],a.sponsors_tech=[{name:"Google",logo:"images/sponsors/goog.jpg",url:"http://www.google.com/"},{name:"Microsoft",logo:"images/sponsors/msft.jpg",url:"http://www.microsoft.com/"},{name:"Qualcomm",logo:"images/sponsors/qcom.jpg",url:"http://www.qualcomm.com/"}],a.sponsors_misc=[{name:"Alfred P. Sloan Foundation",logo:"images/sponsors/apsf.jpg",url:"http://www.sloan.org/"}],a.sponsors_schools=[{name:"Cornell University",logo:"images/sponsors/cornell.jpg",url:"http://www.cornell.edu/"},{name:"Stanford University",logo:"images/sponsors/stanford.jpg",url:"http://www.stanford.edu/"},{name:"UC Berkeley",logo:"images/sponsors/berkeley.jpg",url:"http://www.berkeley.edu/"},{name:"Brown University",logo:"images/sponsors/brown.jpg",url:"http://www.brown.edu/"}]}]),angular.module("roboBrainApp").controller("PeopleCtrl",["$scope",function(a){a.leads=[{name:"Prof. Ashutosh Saxena",institution:"Cornell / Stanford",role:"Robot Learning and Project Lead",photo:"images/contrib/asaxena.jpg",url:"http://www.cs.cornell.edu/~asaxena/",email:"asaxena@cs.cornell.edu"},{name:"Ashesh Jain",institution:"Cornell / Stanford",role:"Interactive Online Learning",photo:"images/contrib/ajain.jpg",url:"http://www.cs.cornell.edu/~ashesh/",roleUrl:"http://planit.cs.cornell.edu/",email:"ashesh@cs.cornell.edu"},{name:"Aditya Jami",institution:"Cornell / Zoodig",role:"Large-Scale Systems",photo:"images/contrib/ajami.jpg",url:"http://www.cs.stanford.edu/people/adityaj/",email:"adityajami@gmail.com"},{name:"Ozan Sener",institution:"Cornell / Stanford",role:"Vision and Language",photo:"images/contrib/osener.jpg",url:"http://ozansener.net/"},{name:"Dipendra K. Misra",institution:"Cornell / Stanford",role:"Language Grounding",photo:"images/contrib/dmisra.jpg",url:"http://www.cs.cornell.edu/~dkm/",roleUrl:"http://tellmedave.cs.cornell.edu/"},{name:"Hema Koppula",institution:"Cornell Univeristy",role:"Machine Learning and 3D Perception",photo:"images/contrib/hkoppula.jpg",url:"http://www.cs.cornell.edu/~hema/"}],a.ugrad_masters_students=[{name:"Debarghya Das",institution:"Cornell University",role:"Planning and Visualization",photo:"images/contrib/ddas.jpg",url:"http://debarghyadas.com/"},{name:"Kevin Lee",institution:"Cornell University",role:"Online Robot Games",photo:"images/contrib/klee.jpg",url:"mailto:kkl53@cornell.edu"},{name:"Michela Meister",institution:"Stanford University",role:"Language Queries",photo:"images/contrib/mmeister.jpg",url:"mailto:mmeister@stanford.edu"},{name:"Hope Casey-Allen",institution:"Stanford University",role:"Knowledge Integration",photo:"images/contrib/hcallen.jpg",url:"mailto:hcaseyal@stanford.edu"},{name:"Arzav Jain",institution:"Stanford University",role:"Graph Operations",photo:"images/contrib/arjain.jpg",url:"mailto:arzavj@stanford.edu"},{name:"Gabriel Kho",institution:"Stanford University",role:"Human-Computer Interaction",photo:"images/contrib/gkho.jpg",url:"mailto:gabriel.d.kho@gmail.com"},{name:"Arpit Agarwal",institution:"IIT Kanpur",role:"RaQueL and Co-active learning",photo:"images/contrib/arpitag.jpg",roleUrl:"https://github.com/RoboBrainCode/RoboBrainWiki/blob/master/RaQueL.md#welcome-to-raquel",url:"http://home.iitk.ac.in/~arpitag/",email:"arpit15945@gmail.com"}],a.faculty=[{name:"Prof. Ken Goldberg",institution:"UC Berkeley",role:"Cloud Robotics",photo:"images/contrib/kgoldberg.jpg",url:"http://goldberg.berkeley.edu/"},{name:"Prof. Stefanie Tellex",institution:"Brown University",role:"Robot Dialog",photo:"images/contrib/stellex.jpg",url:"https://cs.brown.edu/people/stefie10/"},{name:"Prof. Thorsten Joachims",institution:"Cornell University",role:"Machine Learning",photo:"images/contrib/tjoachims.jpg",url:"http://www.cs.cornell.edu/People/tj/"},{name:"Prof. Silvio Savarese",institution:"Stanford University",role:"3D Vision",photo:"images/contrib/ssavarese.jpg",url:"http://cvgl.stanford.edu/silvio/"},{name:"Prof. Fei-Fei Li",institution:"Stanford University",role:"Computer Vision",photo:"images/contrib/fli.jpg",url:"http://vision.stanford.edu/feifeili/"},{name:"Prof. Bart Selman",institution:"Cornell University",role:"Reasoning and AI",photo:"images/contrib/bselman.jpg",url:"http://www.cs.cornell.edu/selman/"},{name:"Prof. Jitendra Malik",institution:"UC Berkeley",role:"Computer Vision",photo:"images/contrib/jmalik.jpg",url:"http://www.cs.berkeley.edu/~malik/"},{name:"Prof. Ross Knepper",institution:"Cornell University",role:"Structured Planning",photo:"images/contrib/rknepper.jpg",url:"http://people.csail.mit.edu/rak/www/"}],a.phd_students=[{name:"Yun Jiang",institution:"Cornell University",role:"Non-Parametric Learning",photo:"images/contrib/yjiang.jpg",url:"http://www.cs.cornell.edu/~yunjiang/"},{name:"Ian Lenz",institution:"Cornell University",role:"Deep Learning and Manipulation",photo:"images/contrib/ilenz.jpg",url:"http://www.cs.cornell.edu/~ianlenz/"},{name:"Jaeyong Sung",institution:"Cornell University",role:"Manipulation Planning",photo:"images/contrib/jsung.jpg",url:"http://www.cs.cornell.edu/~jysung/"},{name:"Chenxia Wu",institution:"Cornell University",role:"3D Vision",photo:"images/contrib/cwu.jpg",url:"http://www.cs.cornell.edu/~chenxiawu/"},{name:"Ayush Dubey",institution:"Cornell University",role:"Graph Databases (Weaver)",photo:"images/contrib/adubey.jpg",url:"http://www.cs.cornell.edu/~dubey"},{name:"David Whitney",institution:"Brown University",role:"Semantics and Cooking",photo:"images/contrib/dwhitney.jpg",url:"https://cs.brown.edu/people/dwhitney/"}]}]),angular.module("roboBrainApp").controller("LoginCtrl",["$scope","$rootScope","$cookieStore","$cookies","$http","$q","ENV","$window","$location","$route",function(a,b,c,d,e,f,g,h,i,j){a.base64encode=function(a){return btoa(a.email+":"+a.password)},a.create_user=function(b){var c=g.apiEndpoint+"auth/create_user/",h=$(":password").pwstrength("calculateScore");if(40>h)return void swal("Sorry!","Your password is not strong enough.","error");if(-1==b.username.indexOf(" "))return void swal("Sorry!","Please enter a full name with a space between your first and last name.","error");var k=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return k.test(b.email)?void f.when(function(){var a=d.csrftoken;return a?"Ok":e.get(c)}()).then(function(){return e.defaults.headers.post["X-CSRFToken"]=d.csrftoken,e.post(c,b)}).then(function(){a.login(b)},function(a){var b=a.data||"Something went wrong with your account creation.";swal("Sorry!",b,"error"),i.path("/login"),j.reload()}):void swal("Sorry!","Your email address seems to be invalid!","error")},a.login=function(b){var c=g.apiEndpoint+"auth/login/";f.when(function(){var a=d.csrftoken;return a?"Ok":e.get(c)}()).then(function(){e.defaults.headers.post["X-CSRFToken"]=d.csrftoken;var f=b?a.base64encode(b):null;return e.post(c,f)}).then(function(b){var c=b.data;a.setCurrentUser(c),b.data.hasOwnProperty("loggedin")||(i.path("/"),h.location.reload())},function(){b&&swal("Sorry!","We couldn't validate your login credentials","error")})},a.setCurrentUser=function(c){b.user=c,a.user=c},a.logout=function(){var b=g.apiEndpoint+"auth/logout/";swal({title:"Oh no! Don't go!",text:"Are you sure you want to log out?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Logout",cancelButtonText:"Stay logged in"},function(c){c&&f.when(function(){var a=d.csrftoken;return a?"Ok":e.get(login_endpoint)}()).then(function(){return e.defaults.headers.post["X-CSRFToken"]=d.csrftoken,e.post(b)}).then(function(){a.setCurrentUser(null),swal("Ok!","You've successfully logged out.","success"),i.path("/"),j.reload()})})},a.loadPasswordChecker=function(){var a={onLoad:function(){$("#messages").text("Start typing password")},onKeyUp:function(a){$(a.target).pwstrength("outputErrorList")}};$(":password").pwstrength(a)},a.login()}]),angular.module("roboBrainApp").controller("GraphCtrl",["$scope","$http","ENV",function(a,b,c){a.weaverGraph=function(b){var d=c.graphApiEndpoint+"graph/getNode/";$("#wheel").addClass("spinning"),$.getJSON(d,{query:b.query,number:b.limit,overwrite:"1",directionVal:b.direction},function(){return $("#wheel").removeClass("spinning"),a.renderAlchemy(),!1})},a.renderAlchemy=function(){{var a={dataSource:"sample_data/arctic.json",nodeStyle:{all:{borderColor:"#127DC1",borderWidth:function(a,b){return b/4},color:function(){return"rgb(135, 206, 250)"},radius:function(a){return a.getProperties().root?25:20},captionColor:"#000000",captionBackground:null,captionSize:20,highlighted:{color:"#1FBED6"}}}};new Alchemy(a)}},a.addMoreNodes=function(b){var d=c.graphApiEndpoint+"graph/getNode/";$.getJSON(d,{query:b,number:document.getElementById("number").value,overwrite:"0",directionVal:document.getElementById("directionVal").value},function(){a.renderAlchemy()})},a.weaver={},a.weaver.limit="10"}]),angular.module("roboBrainApp").controller("RaquelCtrl",["$scope","$http","ENV",function(a,b,c){a.sendQuery=function(){var a=c.graphApiEndpoint+"raquel/rachQuery/",b=document.getElementById("demo").value;b=b.split(">>>").join(""),$.getJSON(a,{query:b},function(a){var b=a.result,c=JSON.stringify(b),d="",e={brace:0};return d=c.replace(/({|}[,]*|[^{}:]+:[^{}:,]*[,{]*)/g,function(a,b){var c=function(){return'<div style="text-indent: '+20*e.brace+'px;">'+b+"</div>"},d=0;return b.lastIndexOf("{")===b.length-1?(d=c(),e.brace+=1):0===b.indexOf("}")?(e.brace-=1,d=c()):d=c(),d}),document.getElementById("regeStr").innerHTML=d,!1})},a.query={},a.query.query=">>>"}]),angular.module("roboBrainApp").controller("getFeedbackCtrl",["$scope",function(a){a.currentPage=1,a.currobjlist=feedBackSystem[1],a.range=function(a,b,c){c=c||1;for(var d=[],e=a;b>=e;e+=c)d.push(e);return d},a.captureFeedback=function(b){console.log(a.currentPage),console.log(b),console.log();var c={envNumber:a.currentPage,NLPInstruction:b};console.log(c);var d=ENV.graphApiEndpoint+"e2eFeedback/nlpfeedback/";$.getJSON(d,c,function(a){console.log(a)})},a.changeIt=function(b){a.currentPage=b,a.currobjlist=feedBackSystem[b]}}]),angular.module("roboBrainApp").controller("ContactCtrl",["$scope",function(a){a.contacts=[{name:"Ashutosh Saxena",email:"asaxena@cs.cornell.edu",address:"Gates 138",street:"Stanford University",state:"CA",zip:"94305"},{name:"Aditya Jami",email:"adityajami@gmail.com"},{name:"Ashesh Jain",email:"ashesh@cs.cornell.edu",address:"Gates 142",street:"Stanford University",state:"CA",zip:"94305"}]}]),angular.module("roboBrainApp").controller("PlanItCtrl",["$scope","FileUploader","$rootScope","ENV","$window","$timeout",function(a,b,c,d,e,f){a.activity_name="dancing",c.dispWarn="",c.daeFile="",c.xmlFile="",a.loadMore=function(){document.getElementById("seemore").style.display="block",document.getElementById("loadmore").style.display="none"},a.loadedMore=function(){document.getElementById("seenmore").style.display="block",document.getElementById("loadedmore").style.display="none"},a.getHeatMap=function(){console.log("Clicked");var b=d.graphApiEndpoint+"planit/showHeatMap/";$("#wheel").addClass("spinning"),document.getElementById("warnDisp").innerHTML="Please wait while we query the roboBrain and obtain the heatmap.",$.getJSON(b,{query:a.activity_name},function(a){console.log(a),document.getElementById("warnDisp").innerHTML="",$("#wheel").removeClass("spinning");var b=new Image;b.src=a.result;var c="http://52.25.65.189:9000/";document.getElementById("heatMapResult").innerHTML='<img src="'+c+a.result+'" height="300" alt="Heat Map" title="Heat Map" />'})},a.initPoll=function(){e.stopcond=0,console.log("Initialised Polling"),$("#wheel1").addClass("spinning"),e.uqId=a.randString(10),f(a.worker)},a.worker=function(){console.log("Polling Server");var b=d.graphApiEndpoint+"planit/getLog/";$.getJSON(b,{uqId:e.uqId},function(b){document.getElementById("consolemsg").innerHTML=b.result[0],0==e.stopcond?f(a.worker,5e3):console.log("Query stopped")})},a.stopPoll=function(){e.stopcond=1,$("#wheel1").removeClass("spinning")},a.getTrajectory=function(){if(console.log("getting trajectory"),a.initPoll(),""==c.daeFile||""==c.xmlFile)return alert("Upload Files before proceeding"),void a.stopPoll();var b=d.graphApiEndpoint+"planit/getTraj/";$.getJSON(b,{daeFile:c.daeFile,xmlFile:c.xmlFile,uqId:e.uqId},function(b){a.stopPoll(),console.log(b),document.getElementById("trajResult").innerHTML='<a href="'+b.result+'">Click here to download the trajectory </a>'})},a.randString=function(a){for(var b="";b.length<a&&a>0;){var c=Math.random();b+=.1>c?Math.floor(100*c):String.fromCharCode(Math.floor(26*c)+(c>.5?97:65))}return b};var g=a.uploader=new b({url:d.graphApiEndpoint+"planit/uploadFile/"});g.filters.push({name:"customFilter",fn:function(){return this.queue.length<2}}),g.onWhenAddingFileFailed=function(a,b,c){console.info("onWhenAddingFileFailed",a,b,c)},g.onAfterAddingFile=function(b){var d=b._file.name,e=d.split(".").pop(),f=["xml","dae"];if(f.indexOf(e)>-1)console.info("Allowed"),2==a.uploader.queue.length&&(console.log(a.uploader.queue),"xml"==a.uploader.queue[0]._file.name.split(".").pop()&&"dae"==e||"dae"==a.uploader.queue[0]._file.name.split(".").pop()&&"xml"==e?"dae"==e?(c.daeFile=d,c.xmlFile=a.uploader.queue[0]._file.name):(c.xmlFile=d,c.daeFile=a.uploader.queue[0]._file.name):(alert("One of the files should be .dae and other .xml"),a.uploader.queue=[]));else{console.log("Not allowed"),alert("Only dae and xml files are allowed for upload");for(var g=0;g<a.uploader.queue.length;g++){a.uploader.queue[g]._file.name==d,a.uploader.queue.splice(g,1);break}console.log(a.uploader.queue)}console.info("onAfterAddingFile",b)},g.onAfterAddingAll=function(a){console.info("onAfterAddingAll",a)},g.onBeforeUploadItem=function(a){console.info("onBeforeUploadItem",a)},g.onProgressItem=function(a,b){console.info("onProgressItem",a,b)},g.onProgressAll=function(a){console.info("onProgressAll",a)},g.onSuccessItem=function(a,b,c,d){console.info("onSuccessItem",a,b,c,d)},g.onErrorItem=function(a,b,c,d){console.info("onErrorItem",a,b,c,d)},g.onCancelItem=function(a,b,c,d){console.info("onCancelItem",a,b,c,d)},g.onCompleteItem=function(a,b,c,d){console.info("onCompleteItem",a,b,c,d)},g.onCompleteAll=function(){console.info("onCompleteAll")},console.info("uploader",g)}]),angular.module("roboBrainApp").controller("PlanItDaveCtrl",["$scope","$cookieStore","ENV","$rootScope","$location",function(a,b,c,d,e){a.captureLocalFeedback=function(a){d.currentFeedbackId=a,console.log(d.currentFeedbackId),e.path("/localFeedback")},a.init=function(){a.feeds={},a.offset=0,a.number=2,a.isScrolling=!0,a.votelock=!1,a.feedbackLock=!1,a.loadFeedback()},a.recordFeedback=function(b,d){var e=c.graphApiEndpoint+"e2eFeedback/recordFeedback/",f={feedid:b,tellmedave:d.language,planit:d.planning};a.feedbackLock||(d.language="",d.planning="",$.getJSON(e,f,function(a){console.log(a)}))},a.vote=function(d,e){var f=c.graphApiEndpoint+"e2eFeedback/upVote/",g=!1;if(!a.votelock){if(b.get(d)){if(b.get(d)==e)return;g=!0}a.votelock=!0;var h={feedid:d,vote:e,change:g};$.getJSON(f,h,function(c){console.log(c),console.log(e),b.put(d,e),1==e?(a.feeds[d].upvoted=!0,a.feeds[d].downvoted=!1):-1==e&&(a.feeds[d].upvoted=!1,a.feeds[d].downvoted=!0),a.feeds[d].upvotes=c.upvotes,a.feeds[d].downvotes=c.downvotes,a.votelock=!1,a.$apply()})}},a.loadFeedback=function(){console.log("Helloworld");var d=c.graphApiEndpoint+"e2eFeedback/getMoreFeeds/",e=a.isScrolling;if(e){e=!1;var f={num:a.number,current:a.offset};$.getJSON(d,f,function(c){console.log(c);for(var d=0;d<c.length;++d){var f=c[d]._id;a.feeds[f]=c[d],a.feeds[f].order=a.offset,a.offset+=1,1==b.get(f)?a.feeds[f].upvoted=!0:-1==b.get(f)&&(a.feeds[f].downvoted=!0)}e=!0})}}}]),angular.module("roboBrainApp").controller("localFeedbackCtrl",["$scope","$rootScope","ENV","$location",function(a,b,c,d){a.pedicateList=[{id:"moveto",name:"move"},{id:"grasp",name:"grasp"},{id:"release",name:"release"},{id:"turn",name:"turn"},{id:"open",name:"open"},{id:"close",name:"close"},{id:"wait",name:"wait"},{id:"scoop",name:"scoop"},{id:"place",name:"place"},{id:"add",name:"add"},{id:"pour",name:"pour"},{id:"squeeze",name:"squeeze"},{id:"press",name:"press"},{id:"insert",name:"insert"},{id:"keep",name:"keep"}],a.objectList=[{id:"Pillow_1",name:"Pillow_1"},{id:"Bed_1",name:"Bed_1"},{id:"Pillow_2",name:"Pillow_2"}],a.subjectList=[{id:"Pillow_1",name:"Pillow_1"},{id:"Bed_1",name:"Bed_1"},{id:"Pillow_2",name:"Pillow_2"}],a.preposition=[{id:"On",name:"On"},{id:"of",name:"of"},{id:"near",name:"near"}],a.envName="",a.instructionSet=[],a.getName=function(a){return console.log(a),a.indexOf("PowerButton")>-1||a.indexOf("PR2")>-1?a:a.toLowerCase()
},a.Init=function(){b.currentFeedbackId||d.path("/planitDave"),$.getJSON("http://localhost:6363/gui/initApp/",function(a){console.log(a)});var e=c.graphApiEndpoint+"e2eFeedback/returnById/";$.getJSON(e,{query:JSON.stringify(b.currentFeedbackId)},function(b){a.objectList=[],a.subjectList=[];for(var c in b.objList){var d={};d.id=b.objList[c],d.name=b.objList[c],a.objectList.push(d),a.subjectList.push(d)}a.$apply();for(var e="",c=0;c<b.tellmedaveOutput.length;c++){e=e+b.tellmedaveOutput[c]+"<br>";var f=b.tellmedaveOutput[c].split(" "),g={};2==f.length?(g.predicateVal=f[0],g.objVal=a.getName(f[1])):2==f.length?(g.predicateVal=f[0],g.objVal=a.getName(f[1]),g.subVal=a.getName(f[2])):4==f.length&&(g.predicateVal=f[0],g.objVal=a.getName(f[1]),g.subVal=a.getName(f[3]),g.preposition=f[2]),a.instructionSet.push(g),console.log(g)}a.envName=b.envName,a.$apply(),document.getElementById("instructionSeq").innerHTML=e})},a.addEntry=function(b){var c=jQuery.extend(!0,{},b);a.instructionSet.push(c)},a.deleteElement=function(b){a.instructionSet.splice(b,1)},a.playTraj=function(b){if("moveto"==a.instructionSet[b].predicateVal){for(var c="PR2",d=a.instructionSet[b].objVal,e=0;b>e;e++)"moveto"==a.instructionSet[e].predicateVal&&(c=a.instructionSet[e].objVal);for(var f=document.getElementsByClassName("playbtns pull-right btn btn-default"),e=0;e<f.length;e++)f[e].disabled=!0;document.getElementById("playT").disabled=!0,document.getElementById("stopT").disabled=!1,document.getElementById("capT").disabled=!0,document.getElementById("nextT").disabled=!0,$.getJSON("http://localhost:6363/gui/playTraj/",{env:a.envName,startPos:c,endPos:d},function(){})}},a.saveSequence=function(){for(var c=[],d=0;d<a.instructionSet.length;d++){var e=a.instructionSet[d].predicateVal+" "+a.instructionSet[d].objVal;a.instructionSet[d].preposition&&(e=e+" "+a.instructionSet[d].preposition),a.instructionSet[d].subVal&&(e=e+" "+a.instructionSet[d].subVal),c.push(e)}$.getJSON("http://localhost:6363/e2eFeedback/tellmedaveFeedback/",{feedback:JSON.stringify(c),feedId:b.currentFeedbackId},function(){})},a.stopTraj=function(){for(var a=document.getElementsByClassName("playbtns pull-right btn btn-default"),b=0;b<a.length;b++)a[b].disabled=!1;document.getElementById("playT").disabled=!1,document.getElementById("stopT").disabled=!0,document.getElementById("capT").disabled=!1,document.getElementById("nextT").disabled=!0,$.getJSON("http://localhost:6363/gui/stopTraj/",function(a){console.log(a)})},a.resumeTraj=function(){for(var a=document.getElementsByClassName("playbtns pull-right btn btn-default"),b=0;b<a.length;b++)a[b].disabled=!0;document.getElementById("playT").disabled=!0,document.getElementById("stopT").disabled=!1,document.getElementById("capT").disabled=!0,document.getElementById("nextT").disabled=!0,$.getJSON("http://localhost:6363/gui/resumeTraj/",function(a){console.log(a)})},a.capTraj1=function(){for(var a=document.getElementsByClassName("playbtns pull-right btn btn-default"),c=0;c<a.length;c++)a[c].disabled=!0;document.getElementById("playT").disabled=!0,document.getElementById("stopT").disabled=!0,document.getElementById("capT").disabled=!0,document.getElementById("nextT").disabled=!1,$.getJSON("http://localhost:6363/gui/capTraj/",{feedId:b.currentFeedbackId},function(a){console.log(a)})},a.capTraj2=function(){for(var a=document.getElementsByClassName("playbtns pull-right btn btn-default"),c=0;c<a.length;c++)a[c].disabled=!1;document.getElementById("playT").disabled=!1,document.getElementById("stopT").disabled=!0,document.getElementById("capT").disabled=!1,document.getElementById("nextT").disabled=!0,$.getJSON("http://localhost:6363/gui/capNextTraj/",{feedId:b.currentFeedbackId},function(a){console.log(a)})}}]);var feedBackSystem={1:["almirah","classroomchair","tv","floorlamp","bed","vase","wallshelf","blackcouch","books","humanreach","squaremirror","humansit","bedtable","pillow","roundtable"],2:["blackcouch","almirah","loungechair","tablelamp","cup","bowl","shelf","antiquetable","table","bed","vase","humanstand","wallshelf","spoon","books","stool","floorlamp","squaremirror","humansit","bedtable","painting"],3:["tablelamp","windows","floorlamp","laptop","coke","bed","garbageBin","humanlean","beer","books","humanreach","desk","bookshelf","humansit","chair","bedtable","walllamp"],4:["squarebedtable","almirah","humanlean","garbage","antiquetable","walllamp","humanstand","coke","vase","beer","chandelier","ornatecurtains","floorlamp","humansit","garbageBin","tablelamp","painting","roundbed"],5:["squarebedtable","candleholder","flower","stackbooks","fireplace","cup","flowervase","floorlamp","walllamp","humanstand","table","bed","vase","dressingmirror","window","antiquetable","humansit","tablelamp","painting","humanlean"],6:["squarebedtable","floorlamp","bookshelf","blackcouch","tablelamp","kitchencabinet","cup","microwave","window","bunkbed","humanstand","sinkknob","almirah","stackbooks","tablechair","sink","desk","squaremirror","humansit","antiquetable","walllamp","wallshelf","bottle","painting","pillow"],7:["squarebedtable","stackbooks","cup","greenboard","laptop","Model","coke","fridge","beer","blackcouch","speaker","dormbed","desk","humansit","chair","painting","blinds","kitchencabinet"],8:["Model","almirah","tablelamp","windows","floorlamp","laptop","stool","bed","pillow","books","desk","humanlean","humansit","chair","bedtable","walllamp"],9:["almirah","loungechair","sidetable","sofa","walllamp","beer","vase","kitchencabinet","books","speaker","sink","floorlamp","humansit","projectionarea","coke","roundtable"],10:["almirah","door","humanrelax","tv","sofa","humanlean","counterstrikeCD","vase","wallshelf","window","speaker","antiquetable","humansit","farcrygameCD","xbox","floorlamp","roundtable"],11:["flowervase","floorlamp","stove","modernshelf","stackbooks","kitchencabinet","cup","tv","bowl","mug","speaker","humanstand","sinkknob","door","vase","sink","humansit","sofa","walllamp","wallshelf","antiquetable","stoveknob"],12:["ball","door","tv","sofa","walllamp","poolstick","pooltable","fireplace","flowervase","blackcouch","antiquetable","painting1","vase","floorlamp","humanlean","humansit"],13:["flowervase","floorlamp","chandelier","openfridge","garbageBin","kitchencabinet","cup","tv","humanlean","window","speaker","syrup","fork","plate","door","vase","spoon","sink","bookshelf","humansit","ramen","loungechair","sofa","walllamp","wallshelf","bottle","antiquetable","roundtable"],14:["garbage","flowervase","blackcouch","stackbooks","garbageBin","chair","kitchencabinet","cup","tv","garbagebag","bowl","tallspeaker","window","humanstand","rooflamp","door","coke","vase","spoon","sink","bookshelf","humansit","painting1","painting2","sofa","walllamp","wallshelf","roundtable"],15:["plate","stackbooks","cup","tv","sofa","flowervase","humanstand","bowl","microwave","vase","wallshelf","mug","speaker","openfridge","antiquetable","modernshelf","humansit","floorlamp","walllamp","kitchencabinet"],16:["classroomchair","plate","stove","blackcouch","openfridge","garbageBin","kitchencabinet","cup","tv","bowl","microwave","icecream","bedtable","almirah","humanreach","vase","sink","humansit","walllamp","wallshelf","bottle","roundtable"]};